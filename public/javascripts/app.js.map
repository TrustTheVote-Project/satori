{"version":3,"sources":["app/brunch/javascripts/buttons.coffee","app/brunch/javascripts/components/election_data_section.cjsx","app/brunch/javascripts/components/elections_list.cjsx","app/brunch/javascripts/components/error_row.cjsx","app/brunch/javascripts/components/property_row.cjsx","app/brunch/javascripts/components/upload_row.cjsx","app/brunch/javascripts/reports.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAC,oBAAD,GAAuB,SAAC,KAAD;SACrB,EAAE,4DAAF,EAAgE,KAAhE,CAAsE,CAAC,IAAvE,CAA4E,SAAC,CAAD,EAAI,CAAJ;AAC1E;IAAA,MAAM,EAAE,CAAF;IACN,UAAU,EAAE,GAAG,CAAC,IAAJ,CAAS,QAAT,CAAF;IACV,OAAO,CAAC,EAAR,CAAW,kBAAX,EAA+B,SAAC,EAAD;aAAQ,GAAG,CAAC,IAAJ,CAAS,GAAG,CAAC,IAAJ,CAAS,YAAT,KAA0B,MAAnC;IAAR,CAA/B;WACA,OAAO,CAAC,EAAR,CAAW,kBAAX,EAA+B,SAAC,EAAD;aAAQ,GAAG,CAAC,IAAJ,CAAS,GAAG,CAAC,IAAJ,CAAS,YAAT,KAA0B,MAAnC;IAAR,CAA/B;EAJ0E,CAA5E;AADqB;;AAOvB,EAAE;SACA;AADA,CAAF;;;CCPA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApYA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlHA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA3BA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjCA;AAAA;;ACAA,EAAE;AACA;EAAA,KAAK,EAAE,iBAAF,CAAoB,CAAC,SAArB,CACH;IAAA,QAAgB,KAAhB;IACA,SAAgB,GADhB;IAEA,SAAgB,IAFhB;IAGA,MAAgB,KAHhB;IAIA,UAAgB,KAJhB;IAKA,WAAgB,KALhB;IAMA,eAAgB,IANhB;GADG;SASD,KAAC,CAAC,EAAE,CAAC,SAAS,CAAC,YAAf,CAA4B,EAA5B;AAVJ,CAAF","file":"public/javascripts/app.js","sourcesContent":["@bindShowHideButtons = (scope) ->\n  $(\"button[data-target][data-toggle=collapse][data-show-label]\", scope).each (i, e) ->\n    btn = $(e)\n    section = $(btn.data('target'))\n    section.on \"show.bs.collapse\", (ev) -> btn.text(btn.data('hide-label') || 'Hide')\n    section.on \"hide.bs.collapse\", (ev) -> btn.text(btn.data('show-label') || 'Show')\n\n$ ->\n  bindShowHideButtons()\n","var Buttons, DataStore, ElectionDataTable, ElectionStatus, ErrorRow, LockDataButton, PropertyRow, Row, StatusLine, Table, UploadEventLogsButton, UploadRow, UploadVoterDataButton, actLoadData, actLockData, actUnlockData;\n\nUploadRow = require('component/upload_row');\n\nErrorRow = require('component/error_row');\n\nPropertyRow = require('component/property_row');\n\nactLoadData = Reflux.createAction();\n\nactLockData = Reflux.createAction();\n\nactUnlockData = Reflux.createAction();\n\nDataStore = Reflux.createStore({\n  init: function() {\n    this.data = {};\n    this.listenTo(actLoadData, this.onLoadData);\n    this.listenTo(actLockData, this.onLockData);\n    return this.listenTo(actUnlockData, this.onUnlockData);\n  },\n  getInitialState: function() {\n    return this.data;\n  },\n  onLoadData: function() {\n    return $.getJSON(gon.data_url, (function(_this) {\n      return function(data) {\n        _this.data = data;\n        return _this.trigger(_this.data);\n      };\n    })(this));\n  },\n  onLockData: function() {\n    this.data.locked = true;\n    this.trigger(this.data);\n    return $.post(gon.lock_data_url, {}, ((function(_this) {\n      return function(data) {\n        _this.data = data;\n        return _this.trigger(_this.data);\n      };\n    })(this)), 'json');\n  },\n  onUnlockData: function() {\n    this.data.locked = false;\n    this.trigger(this.data);\n    return $.post(gon.unlock_data_url, {}, ((function(_this) {\n      return function(data) {\n        _this.data = data;\n        return _this.trigger(_this.data);\n      };\n    })(this)), 'json');\n  }\n});\n\nthis.ElectionDataSection = React.createClass({\n  mixins: [Reflux.connect(DataStore, \"data\")],\n  getInitialState: function() {\n    return {\n      collapse: true\n    };\n  },\n  onToggle: function(e) {\n    e.preventDefault();\n    return this.setState({\n      collapse: !this.state.collapse\n    });\n  },\n  render: function() {\n    var buttonLabel, data, noDemog, noVTL, sectionClass, status;\n    sectionClass = ['row', 'section', this.state.collapse ? 'collapse' : null].join(' ');\n    buttonLabel = this.state.collapse ? 'Show' : 'Hide';\n    data = this.state.data;\n    noDemog = !data.has_demog;\n    noVTL = !data.has_vtl;\n    if (noDemog && noVTL) {\n      status = 'none';\n    } else if (noDemog || noVTL) {\n      status = 'partial';\n    } else if (data.locked) {\n      status = 'complete';\n    } else {\n      status = 'available';\n    }\n    return React.createElement(\"div\", null, React.createElement(\"div\", {\n      \"className\": 'row section-row'\n    }, React.createElement(\"div\", {\n      \"className\": 'col-xs-10'\n    }, React.createElement(\"h4\", null, \"Election Data (\", React.createElement(\"em\", {\n      \"className\": 'smaller'\n    }, status), \")\")), React.createElement(\"div\", {\n      \"className\": 'col-xs-2 text-right'\n    }, React.createElement(\"button\", {\n      \"className\": 'btn btn-xs btn-default',\n      \"type\": 'button',\n      \"onClick\": this.onToggle\n    }, buttonLabel))), React.createElement(\"div\", {\n      \"className\": sectionClass\n    }, React.createElement(\"div\", {\n      \"className\": 'col-xs-12'\n    }, React.createElement(ElectionDataTable, {\n      \"data\": this.state.data\n    }))));\n  }\n});\n\nElectionDataTable = React.createClass({\n  componentDidMount: function() {\n    actLoadData();\n    return setInterval(((function(_this) {\n      return function() {\n        return actLoadData();\n      };\n    })(this)), 5000);\n  },\n  render: function() {\n    return React.createElement(\"div\", null, React.createElement(\"div\", {\n      \"className\": 'row'\n    }, React.createElement(\"div\", {\n      \"className\": 'col-xs-12'\n    }, React.createElement(StatusLine, {\n      \"data\": this.props.data\n    }), React.createElement(Buttons, {\n      \"data\": this.props.data\n    }))), React.createElement(\"div\", {\n      \"className\": 'row'\n    }, React.createElement(\"div\", {\n      \"className\": 'col-xs-12 no-pad'\n    }, React.createElement(Table, {\n      \"data\": this.props.data\n    }))));\n  }\n});\n\nStatusLine = React.createClass({\n  render: function() {\n    var data, noDemog, noVTL;\n    data = this.props.data;\n    noDemog = !data.has_demog;\n    noVTL = !data.has_vtl;\n    if (data.locked) {\n      return React.createElement(\"p\", null, \"Complete data\");\n    } else {\n      if (noDemog && noVTL) {\n        return React.createElement(\"p\", null, \"No data is available currently\");\n      } else if (noDemog) {\n        return React.createElement(\"p\", null, \"Voter administration log data details are below. Voter demographic data is not available currently.\");\n      } else if (noVTL) {\n        return React.createElement(\"p\", null, \"Voter demographic data details are below. Voter administration log data is not available currently.\");\n      } else {\n        return null;\n      }\n    }\n  }\n});\n\nButtons = React.createClass({\n  render: function() {\n    var data, lockDisabled, noDemog, noVTL;\n    data = this.props.data;\n    if (data.locked) {\n      return React.createElement(\"p\", {\n        \"className\": 'text-right'\n      }, React.createElement(\"span\", null, \"\\u00a0\"), React.createElement(\"a\", {\n        \"onClick\": actUnlockData,\n        \"data-confirm\": 'Are you sure to unlock?',\n        \"className\": 'btn btn-default'\n      }, \"Unlock Data\"));\n    } else {\n      noDemog = !data.has_demog;\n      noVTL = !data.has_vtl;\n      lockDisabled = noDemog || noVTL;\n      return React.createElement(\"p\", {\n        \"className\": 'text-right'\n      }, React.createElement(\"a\", {\n        \"href\": gon.new_vtl_url,\n        \"className\": 'btn btn-default'\n      }, \"Upload Voter Administration Log Data\"), React.createElement(\"span\", null, \"\\u00a0\"), React.createElement(\"a\", {\n        \"href\": gon.new_demog_file_url,\n        \"className\": 'btn btn-default'\n      }, \"Upload Voter Demographic Data\"), React.createElement(\"span\", null, \"\\u00a0\"), React.createElement(\"a\", {\n        \"onClick\": actLockData,\n        \"disabled\": lockDisabled,\n        \"data-confirm\": 'Are you sure to lock?',\n        \"className\": 'btn btn-default'\n      }, \"Lock Data\"));\n    }\n  }\n});\n\nTable = React.createClass({\n  render: function() {\n    var data, errors, rows, uploads;\n    data = this.props.data;\n    rows = (data.rows || []).map(function(r) {\n      return React.createElement(Row, {\n        \"key\": r.id,\n        \"row\": r,\n        \"locked\": data.locked\n      });\n    });\n    uploads = (data.uploads || []).map(function(u) {\n      return React.createElement(UploadRow, {\n        \"key\": u.id,\n        \"cols\": 2.,\n        \"upload\": u\n      });\n    });\n    errors = (data.errors || []).map(function(e) {\n      return React.createElement(ErrorRow, {\n        \"key\": e.id,\n        \"error\": e\n      });\n    });\n    return React.createElement(\"table\", {\n      \"className\": 'table table-striped'\n    }, React.createElement(\"tbody\", null, rows, uploads, errors));\n  }\n});\n\nRow = React.createClass({\n  render: function() {\n    var customRows, dataType, deleteBtn, l, locked;\n    l = this.props.row;\n    locked = this.props.locked;\n    if (l.type === 'vtl') {\n      dataType = 'Voter Administration';\n      customRows = [\n        React.createElement(PropertyRow, {\n          \"key\": 'ee',\n          \"label\": \"Earliest Event\",\n          \"value\": l.earliest_event_at\n        }), React.createElement(PropertyRow, {\n          \"key\": 'le',\n          \"label\": \"Latest Event\",\n          \"value\": l.latest_event_at\n        }), React.createElement(PropertyRow, {\n          \"key\": 'te',\n          \"label\": \"Total Events\",\n          \"value\": l.events_count\n        })\n      ];\n    } else {\n      dataType = 'Voter Demographics';\n      customRows = [\n        React.createElement(PropertyRow, {\n          \"key\": 'tr',\n          \"label\": \"Total Records\",\n          \"value\": l.records_count\n        })\n      ];\n    }\n    if (locked) {\n      deleteBtn = null;\n    } else {\n      deleteBtn = React.createElement(\"a\", {\n        \"href\": l.url,\n        \"data-method\": 'delete',\n        \"data-confirm\": 'Delete this data file?',\n        \"className\": 'btn btn-xs btn-danger'\n      }, \"Delete\");\n    }\n    return React.createElement(\"tr\", null, React.createElement(\"td\", {\n      \"className\": 'col-sm-12'\n    }, React.createElement(PropertyRow, {\n      \"label\": \"Data Type\",\n      \"value\": dataType\n    }), React.createElement(PropertyRow, {\n      \"label\": \"Uploaded at\",\n      \"value\": l.uploaded_at\n    }), React.createElement(PropertyRow, {\n      \"label\": \"Uplaoded by\",\n      \"value\": l.uploaded_by\n    }), React.createElement(PropertyRow, {\n      \"label\": \"Origin\",\n      \"value\": l.origin\n    }), React.createElement(PropertyRow, {\n      \"label\": \"Filename\",\n      \"value\": l.filename\n    }), customRows), React.createElement(\"td\", {\n      \"className\": 'text-right'\n    }, deleteBtn));\n  }\n});\n\nthis.ElectionStatusSection = React.createClass({\n  mixins: [Reflux.connect(DataStore, \"data\")],\n  getInitialState: function() {\n    return {\n      collapse: false\n    };\n  },\n  onToggle: function(e) {\n    e.preventDefault();\n    return this.setState({\n      collapse: !this.state.collapse\n    });\n  },\n  render: function() {\n    var buttonLabel, data, sectionClass;\n    sectionClass = ['row', 'section', this.state.collapse ? 'collapse' : null].join(' ');\n    buttonLabel = this.state.collapse ? 'Show' : 'Hide';\n    data = this.state.data;\n    return React.createElement(\"div\", null, React.createElement(\"div\", {\n      \"className\": 'row section-row'\n    }, React.createElement(\"div\", {\n      \"className\": 'col-xs-10'\n    }, React.createElement(\"h4\", null, \"Status\")), React.createElement(\"div\", {\n      \"className\": 'col-xs-2 text-right'\n    }, React.createElement(\"button\", {\n      \"className\": 'btn btn-xs btn-default',\n      \"type\": 'button',\n      \"onClick\": this.onToggle\n    }, buttonLabel))), React.createElement(\"div\", {\n      \"className\": sectionClass\n    }, React.createElement(\"div\", {\n      \"className\": 'col-xs-12'\n    }, React.createElement(ElectionStatus, {\n      \"data\": this.state.data\n    }))));\n  }\n});\n\nElectionStatus = React.createClass({\n  render: function() {\n    var data, hasDemog, hasVTL, lockDisabled, locked, name, reportingState;\n    data = this.props.data;\n    hasDemog = data.has_demog;\n    hasVTL = data.has_vtl;\n    locked = data.locked;\n    name = gon.election_name;\n    reportingState = 'complete';\n    if (locked) {\n      if (reportingState === 'submitted') {\n        return React.createElement(\"p\", null, \"Reporting for election \", name, \" is available based on completed data.\", React.createElement(\"br\", null), \"EAVS reporting is complete and has been submitted by your group administrator.\");\n      } else if (reportingState === 'complete') {\n        return React.createElement(\"p\", null, \"Reporting for election \", name, \" is available based on completed data.\", React.createElement(\"br\", null), gon.complete_message);\n      } else {\n        return React.createElement(\"p\", null, \"Reporting for election \", name, \" is available based on completed data.\", React.createElement(\"br\", null), \"EAVS reporting is not complete yet -- please check the individual reports below for status.\");\n      }\n    } else {\n      lockDisabled = !hasDemog || !hasVTL;\n      if (!hasDemog && !hasVTL) {\n        return React.createElement(\"div\", null, React.createElement(\"p\", null, \"Reporting for election \", name, \" is currently unavailable because it lacks\\nraw data, for both administrative events and voter demographics.\"), React.createElement(\"p\", null, React.createElement(UploadEventLogsButton, null), React.createElement(UploadVoterDataButton, null), React.createElement(LockDataButton, {\n          \"onClick\": actLockData,\n          \"disabled\": lockDisabled\n        })));\n      } else if (hasDemog && !hasVTL) {\n        return React.createElement(\"div\", null, React.createElement(\"p\", null, \"Reporting for election \", name, \" is currently only partially available\\nbecause it lacks raw data on administrative events.\"), React.createElement(\"p\", null, React.createElement(UploadEventLogsButton, null)));\n      } else if (!hasDemog && hasVTL) {\n        return React.createElement(\"div\", null, React.createElement(\"p\", null, \"Reporting for election \", name, \" is currently only partially available\\nbecause it lacks raw data on voter demographics.\"), React.createElement(\"p\", null, React.createElement(UploadVoterDataButton, null)));\n      } else {\n        return React.createElement(\"div\", null, React.createElement(\"p\", null, \"Reporting for election \", name, \" is available based on current raw data.\\nYou can choose among the reports below to determine whether you are\\nsatisfied with your current reports, and you can run metrics reports to\\nhelp determine whether you have a satisfactory set of raw data.\\nIf not, you can open the two panes below to either augment existing data,\\nor delete previously uploaded data, and then replace it. If your data is\\ncomplete, you can lock your data sets to finalize your reports.\"), React.createElement(\"p\", null, React.createElement(LockDataButton, {\n          \"onClick\": actLockData,\n          \"disabled\": lockDisabled\n        })));\n      }\n    }\n  }\n});\n\nUploadEventLogsButton = React.createClass({\n  render: function() {\n    return React.createElement(\"span\", null, \"\\u00a0\", React.createElement(\"a\", {\n      \"href\": gon.new_vtl_url,\n      \"className\": 'btn btn-default'\n    }, \"Upload Event Logs\"));\n  }\n});\n\nUploadVoterDataButton = React.createClass({\n  render: function() {\n    return React.createElement(\"span\", null, \"\\u00a0\", React.createElement(\"a\", {\n      \"href\": gon.new_demog_url,\n      \"className\": 'btn btn-default'\n    }, \"Upload Voter Data\"));\n  }\n});\n\nLockDataButton = React.createClass({\n  render: function() {\n    return React.createElement(\"span\", null, \"\\u00a0\", React.createElement(\"a\", {\n      \"onClick\": this.props.onClick,\n      \"disabled\": this.props.disabled,\n      \"data-confirm\": 'Are you sure to lock?',\n      \"className\": 'btn btn-default'\n    }, \"Lock Data\"));\n  }\n});\n","var ElectionRow, ElectionsStore, SelectorStore, Table, TypeSelector, actChangeSelector;\n\nactChangeSelector = Reflux.createAction();\n\nSelectorStore = Reflux.createStore({\n  init: function() {\n    this.data = 'progress';\n    return this.listenTo(actChangeSelector, this.onChangeSelector);\n  },\n  getInitialState: function() {\n    return this.data;\n  },\n  onChangeSelector: function(v) {\n    this.data = v;\n    return this.trigger(this.data);\n  }\n});\n\nElectionsStore = Reflux.createStore({\n  init: function() {\n    this.elections = [];\n    this.allElections = gon.elections;\n    return this.listenTo(SelectorStore, this.onSelectorChange, this.onSelectorChange);\n  },\n  getInitialState: function() {\n    return this.elections;\n  },\n  onSelectorChange: function(v) {\n    if (v === 'all') {\n      this.elections = this.allElections;\n    } else {\n      this.elections = _.select(this.allElections, function(e) {\n        return !e.locked;\n      });\n    }\n    return this.trigger(this.elections);\n  }\n});\n\nthis.ElectionsList = React.createClass({\n  mixins: [Reflux.connect(ElectionsStore, \"elections\")],\n  render: function() {\n    return React.createElement(\"div\", {\n      \"className\": 'row'\n    }, React.createElement(\"div\", {\n      \"className\": 'col-sm-12'\n    }, React.createElement(TypeSelector, null), React.createElement(Table, {\n      \"elections\": this.state.elections\n    })));\n  }\n});\n\nTypeSelector = React.createClass({\n  mixins: [Reflux.connect(SelectorStore, \"selector\")],\n  handleChange: function(e) {\n    return actChangeSelector(e.target.value);\n  },\n  render: function() {\n    return React.createElement(\"div\", {\n      \"className\": 'row'\n    }, React.createElement(\"div\", {\n      \"className\": 'col-sm-4'\n    }, React.createElement(\"div\", {\n      \"className\": 'form-group'\n    }, React.createElement(\"select\", {\n      \"className\": 'form-control',\n      \"value\": this.state.selector,\n      \"onChange\": this.handleChange\n    }, React.createElement(\"option\", {\n      \"value\": 'progress'\n    }, \"Show Reporting In-Progress\"), React.createElement(\"option\", {\n      \"value\": 'all'\n    }, \"Show All Elections\")))));\n  }\n});\n\nTable = React.createClass({\n  render: function() {\n    var e, nodes;\n    e = this.props.elections;\n    if (e.length === 0) {\n      nodes = React.createElement(\"tr\", null, React.createElement(\"td\", null, I18n.t(\"user_dashboard.show.none\")));\n    } else {\n      nodes = e.map(function(el) {\n        return React.createElement(ElectionRow, {\n          \"key\": el.id,\n          \"election\": el\n        });\n      });\n    }\n    return React.createElement(\"div\", {\n      \"className\": 'row'\n    }, React.createElement(\"div\", {\n      \"className\": 'col-sm-12 no-pad'\n    }, React.createElement(\"table\", {\n      \"className\": 'table table-striped'\n    }, nodes)));\n  }\n});\n\nElectionRow = React.createClass({\n  render: function() {\n    var e;\n    e = this.props.election;\n    return React.createElement(\"tr\", null, React.createElement(\"td\", null, \"Election Name: \", React.createElement(\"a\", {\n      \"href\": e.url\n    }, e.name), React.createElement(\"br\", null), \"Election Date: \", e.held_on, React.createElement(\"br\", null), \"Start\\x2FEnd Dates for Reporting: \", e.voter_start_on, \" - \", e.voter_end_on, React.createElement(\"br\", null), \"Owner: \", e.owner), React.createElement(\"td\", {\n      \"className\": \"text-right\"\n    }, React.createElement(\"a\", {\n      \"href\": e.url,\n      \"className\": \"btn btn-xs btn-info\"\n    }, \"Select\")));\n  }\n});\n","var ErrorRow;\n\nmodule.exports = ErrorRow = React.createClass({\n  render: function() {\n    var file, fileParts, u;\n    u = this.props.error;\n    file = u.filename;\n    if (!file) {\n      fileParts = u.url.split('/');\n      file = fileParts[fileParts.length - 1];\n    }\n    return React.createElement(\"tr\", null, React.createElement(\"td\", {\n      \"className\": 'col-sm-12'\n    }, React.createElement(\"p\", null, file), React.createElement(\"div\", {\n      \"className\": 'alert alert-danger'\n    }, u.error)), React.createElement(\"td\", {\n      \"className\": 'text-center'\n    }, React.createElement(\"a\", {\n      \"href\": u.delete_url,\n      \"data-method\": 'delete',\n      \"data-confirm\": 'Delete this failed job?',\n      \"className\": 'btn btn-xs btn-danger'\n    }, React.createElement(\"div\", {\n      \"className\": 'glyphicon glyphicon-remove'\n    }))));\n  }\n});\n","var PropertyRow;\n\nmodule.exports = PropertyRow = React.createClass({\n  render: function() {\n    return React.createElement(\"div\", {\n      \"className\": 'row'\n    }, React.createElement(\"div\", {\n      \"className\": 'col-sm-2'\n    }, this.props.label, \":\"), React.createElement(\"div\", {\n      \"className\": 'col-sm-10'\n    }, this.props.value));\n  }\n});\n","var UploadRow;\n\nmodule.exports = UploadRow = React.createClass({\n  render: function() {\n    var file, fileParts, icon, span, state, u;\n    u = this.props.upload;\n    file = u.filename;\n    if (!file) {\n      fileParts = u.url.split('/');\n      file = fileParts[fileParts.length - 1];\n    }\n    icon = false;\n    if (u.state === 'pending') {\n      icon = 'glyphicon glyphicon-hourglass';\n    } else if (u.state === 'processing') {\n      icon = 'glyphicon glyphicon-refresh';\n    }\n    if (icon) {\n      state = React.createElement(\"span\", {\n        \"className\": icon\n      });\n    } else {\n      state = u.state;\n    }\n    span = this.props.cols - 1;\n    return React.createElement(\"tr\", null, React.createElement(\"td\", {\n      \"colSpan\": span,\n      \"className\": 'col-sm-12'\n    }, file), React.createElement(\"td\", {\n      \"className\": 'text-center'\n    }, state));\n  }\n});\n","$ ->\n  dt = $('table.dataTable').dataTable\n    paging:         false\n    scrollY:        600\n    scrollX:        true\n    info:           false\n    ordering:       false\n    searching:      false\n    bSortCellsTop:  true\n\n  new $.fn.dataTable.FixedColumns(dt)\n"]}